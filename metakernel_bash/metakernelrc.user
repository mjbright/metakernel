
## ----------------------------------------
## Configuration:

[ -z "$USER" ] && USER="unknown"

TMPDIR=/tmp/metakernel_bash_kernel

function reread_user_metakernelrc { source ${BASH_SOURCE[0]}; }

## ----------------------------------------
## Startup:

#
# These get echoed if re-sourced from the notebook
#      source ~/.metakernelrc
MESSAGE="[$(date)] Sourcing <<${BASH_SOURCE[0]}>>"
echo $MESSAGE
#echo $MESSAGE >&2

[ ! -d $TMPDIR ] && mkdir -p $TMPDIR
echo $MESSAGE >> $TMPDIR/metakernelrc.${USER}.sourced

utest_fn() {
    MESSAGE="[$(date)] Hello from utest_fn() (declared in ${BASH_SOURCE[0]})"
    echo $MESSAGE
}


## ----------------------------------------
## User functions:

#
# Function: pydot_show_filetree_perl
# Usage: find /tmp/ | pydot_show_filetree
pydot_show_filetree_perl() {
    echo "Invoked ${FUNCNAME[0]} $*" >&2

    perl -ne '
  BEGIN {
    print "digraph G {\n  edge [color=blue, arrowsize=2];\n  node [color=lightyellow2, style=filled];\n";
  };

  chomp();
  if (!defined($ROOT)) {
    $ROOT="$_"; $ROOT =~ s/\//_/g;
    $ROOTLABEL=$_;
    $NODES{$ROOT}="root";
    print "\n  $ROOT [label=\"$ROOTLABEL\"];\n"; 
  } else {
    m/^(.+)\/([^\/]+)/;
    ($PARENT,$CHILD)=($1,$2);
    $NODE = $_;
    $NODE =~ s/\//_/g;
    $PARENTNODE = $PARENT;
    $PARENTNODE =~ s/\//_/g;

    $NODES{$NODE}=$CHILD;
    print "  $PARENTNODE -> $NODE;\n";
    print "\n  $NODE [label=\"$CHILD\"];\n"; 
};

    END { print "}\n"; }; ' | pydot
}


#
# Function: pydot_show_filetree
# Usage: find /tmp/ | pydot_show_filetree
pydot_show_filetree_python_test() {
    echo "Invoked ${FUNCNAME[0]} $*" >&2

    python -c '
print("digraph G { \
        edge [color=blue, arrowsize=2]; \
        node [color=lightyellow2, style=filled]; \
        root -> f1; \
        root -> f2; \
        f1 -> f4;\
        f3 -> f5; \
        f3 -> f6; \
        f2 -> f3; \
        root [label=\"/tmp/findtest\"]; \
        f1 [label=\"file1\"]; \
        f2 [label=\"file2\"]; \
        f3 [label=\"file3\"]; \
        f4 [label=\"file4\"]; \
        f5 [label=\"file5\"]; \
        f6 [label=\"file6\"]; \
} ") ' | pydot
#} ") '
}


#
# Function: pydot_show_filetree
# Usage: find /tmp/ | pydot_show_filetree
pydot_show_filetree() {
  echo "Invoked ${FUNCNAME[0]} $*" >&2

  PYSCRIPT=${ROOT_PATH_PREFIX}$TMPDIR/${FUNCNAME[0]}.py

  cat <<EOF > $PYSCRIPT

import sys

lines = sys.stdin.readlines()

print("digraph G {\
  edge [color=blue, arrowsize=2];\
  node [color=lightyellow2, style=filled];\
")

ROOT=None
NODES=dict()

for line in lines:
  line=line.strip()
  if ROOT == None:
    ROOT=line.replace('/','_')
    ROOTLABEL=line;
    NODES[ROOT]="root"
    print()
    print('  "{}" [label="{}"];'.format( ROOT, ROOTLABEL) )
  else:
    PARENT=line[:line.rfind('/')]
    CHILD=line[1+line.rfind('/'):]
    NODE = line.replace('/','_')
    PARENTNODE = PARENT.replace('/','_')

    NODES[NODE]=CHILD
    print('  "{}" -> "{}";'.format(PARENTNODE, NODE))
    print()
    print('  "{}" [label="{}"];'.format(NODE, CHILD))

print("}\n")
EOF
  python $PYSCRIPT |& tee $TMPDIR/${FUNCNAME[0]}.pydot
  #| pydot
}

#
# Function: pydot_show_du
# Usage: du -s /tmp/* | pydot_show_du
# Inspired by
#     http://stackoverflow.com/questions/28670676/graphviz-python-node-shapes-pie-chart-in-a-node
pydot_show_du() {
  echo "Invoked ${FUNCNAME[0]} $*" >&2

  MAX_ITEMS=10
  [ ! -z "$1" ] && MAX_ITEMS=$1

  PYSCRIPT=${ROOT_PATH_PREFIX}$TMPDIR/${FUNCNAME[0]}.py

  cat <<EOF > $PYSCRIPT

import sys

lines = sys.stdin.readlines()

print("digraph G {\
    rankdir=LR;\
    node [shape=plaintext style=\"filled\"];\
    subgraph cluster_01 { \
      label = \"du\";\
      key3 [label=\"key3\"]\
      key2 [label=\"key2\"]\
      key1 [label=\"key1\"]\
    };\
    node [shape=circle fizedsize=true width=10 style=wedged fillcolor=\"red;0.3:green;0.6:orange\"];\
    A\
")

for line in lines:
  line=line.strip()

print("}\n")
EOF

  sort -nr | tail -$MAX_ITEMS | python $PYSCRIPT |& tee $TMPDIR/${FUNCNAME[0]}.pydot | pydot
}


## html_table
# Description: Demonstrates how to convert 'mysql' (or OpenStack cli) table output to html,
#              can be piped to 'html' for rendering
html_table() {
  echo "Invoked ${FUNCNAME[0]} $*" >&2

  PYSCRIPT=${ROOT_PATH_PREFIX}$TMPDIR/${FUNCNAME[0]}.py

  cat <<EOF > $PYSCRIPT

import IPython

# This is nice to have but we want rather something which is callable from a bash kernel
# how?
def displayMysqlTableTextAsHTML(lines):
    header=False
    colNames=[]
    values=[]
    for line in lines:
        line = line.strip()
        row=[]
        if len(line) != 0 and line[0] != '+' and line[0] == '|':
            if not header:
                header=True
                colNames = [ colName.strip() for colName in (line.strip())[1:-1].split('|')]
            else:
                row      = [ value.strip()   for value   in (line.strip())[1:-1].split('|')]
                values.append(row)

    table = '<table>' +         '<tr>' + '\n'.join( [ '<th>'+colName+'</th>' for colName in colNames ] ) + '\n</tr>\n' +         '\n'.join([ '<tr>'+             '\n    '.join( [ '<td>'+value+'</td>' for value in row ] ) +
          '\n</tr>' for row in values ]) +        '</table>'

    return table


import sys

lines=sys.stdin.readlines()
retval = displayMysqlTableTextAsHTML(lines)
print(retval)

EOF

  python $PYSCRIPT |& tee $TMPDIR/${FUNCNAME[0]}.stdout 
}

## test_html_table
# Description: Demonstrates how to convert 'mysql' (or OpenStack cli) table output to html,
#              can be piped to 'html' for rendering
test_html_table() {
  echo "Invoked ${FUNCNAME[0]} $*" >&2

  PYSCRIPT=${ROOT_PATH_PREFIX}$TMPDIR/${FUNCNAME[0]}.py

  cat <<EOF > $PYSCRIPT

import IPython

# This is nice to have but we want rather something which is callable from a bash kernel
# how?
def displayMysqlTableTextAsHTML(text):
    header=False
    colNames=[]
    values=[]
    for line in text.split('\n'):
        line = line.strip()
        row=[]
        if len(line) != 0 and line[0] != '+' and line[0] == '|':
            if not header:
                header=True
                colNames = [ colName.strip() for colName in (line.strip())[1:-1].split('|')]
            else:
                row      = [ value.strip()   for value   in (line.strip())[1:-1].split('|')]
                values.append(row)

    table = '<table>' +         '<tr>' + '\n'.join( [ '<th>'+colName+'</th>' for colName in colNames ] ) + '\n</tr>\n' +         '\n'.join([ '<tr>'+             '\n    '.join( [ '<td>'+value+'</td>' for value in row ] ) +
          '\n</tr>' for row in values ]) +        '</table>'

    return table

text='''
+-------+-------+-------+-----+
  |  col1 | col2  |  col3 |col4 |  
+-------+-------+-------+-----+
|  val1 | val2  |  val3 |val4 |
|  valu1|value2 |value3|val4|
+-------+-------+-------+-----+
'''

retval = displayMysqlTableTextAsHTML(text)
print(retval)

EOF

  python $PYSCRIPT |& tee $TMPDIR/${FUNCNAME[0]}.stdout 
}

# Implement lightning

# lightning_line plot:
lightning_line_test() {
  echo "Invoked ${FUNCNAME[0]} $*" >&2

  # NOTE use of '_' to prevent trying to import itself!
  PYSCRIPT=${ROOT_PATH_PREFIX}$TMPDIR/_${FUNCNAME[0]}.py

  cat <<EOF > $PYSCRIPT

import IPython
from lightning import Lightning
lgn = Lightning(host="http://public.lightning-viz.org")

#from numpy import random
#viz = lgn.line(random.random(10))
#
from numpy import random, asarray
series = random.randn(5, 50)
#print(str(series))
viz = lgn.line(series)

print( viz.get_html() )

EOF

  python $PYSCRIPT |& tee $TMPDIR/${FUNCNAME[0]}.stdout 
}

# bokeh_line plot:
bokeh_line_test() {
  echo "Invoked ${FUNCNAME[0]} $*" >&2

  # NOTE use of '_' to prevent trying to import itself!
  PYSCRIPT=${ROOT_PATH_PREFIX}$TMPDIR/_${FUNCNAME[0]}.py

  cat <<EOF > $PYSCRIPT

#from ipywidgets import interact
import numpy as np

from bokeh.io import push_notebook
from bokeh.plotting import figure, show, output_file

from bokeh.resources import CDN
from bokeh.embed import file_html

x = np.linspace(0, 2*np.pi, 2000)
y = np.sin(x)

p = figure(title="simple line example", plot_height=300, plot_width=600, y_range=(-5,5))
r = p.line(x, y, color="#2222aa", line_width=3)

html = file_html(p, CDN, "my 2nd plot")
print(html)
#DONT PRINT - this crashes the browser tab: print(html)
#
#import IPython
#retval=IPython.display.HTML(html)
#
EOF

  python $PYSCRIPT |& tee $TMPDIR/${FUNCNAME[0]}.stdout 
}

# bokeh_piechart plot:
bokeh_piechart_test() {
  echo "Invoked ${FUNCNAME[0]} $*" >&2

  # NOTE use of '_' to prevent trying to import itself!
  PYSCRIPT=${ROOT_PATH_PREFIX}$TMPDIR/_${FUNCNAME[0]}.py

  cat <<EOF > $PYSCRIPT

from bokeh.plotting import *
from bokeh.resources import CDN
from bokeh.embed import file_html
from numpy import pi

# define starts/ends for wedges from percentages of a circle
percents = [0, 0.3, 0.4, 0.6, 0.9, 1]
legends = ["A", "B", "C", "D", "E", "F"]
starts = [p*2*pi for p in percents[:-1]]
ends = [p*2*pi for p in percents[1:]]

# a color for each pie piece
colors = ["red", "green", "blue", "orange", "yellow"]

p = figure(x_range=(-1,1), y_range=(-1,1))

p.wedge(x=0, y=0, radius=1, start_angle=starts, end_angle=ends, color=colors)

# save everything:
#output_file("pie.html")
#show(p)

html = file_html(p, CDN, "my pie-chart plot")
print(html)

EOF

  python $PYSCRIPT |& tee $TMPDIR/${FUNCNAME[0]}.stdout 
}

csv_date_linechart() {

  echo "Invoked ${FUNCNAME[0]} $*" >&2

  # After call, data will be in file $TMPFILE:
  getinput_src "${FUNCNAME[0]}" "$1"

  # Copy TMPFILE to local ./tmp/
  [ ! -d tmp ] && mkdir -p tmp
  cp $TMPFILE ./tmp/
  TMPFILE=tmp/${TMPFILE##*/}
  echo "csv_linechart: data file=$TMPFILE"

  HTMLSCRIPT=${ROOT_PATH_PREFIX}$TMPDIR/${FUNCNAME[0]}.html

  cat <<EOF > $HTMLSCRIPT
<!DOCTYPE html>
<meta charset="utf-8">
<style> /* set the CSS */

body { font: 12px Arial;}

path { 
    stroke: steelblue;
    stroke-width: 2;
    fill: none;
}

.axis path,
.axis line {
    fill: none;
    stroke: grey;
    stroke-width: 1;
    shape-rendering: crispEdges;
}

</style>
<div id="myd3_date_linechart">

<!-- load the d3.js library -->    
<script src="http://d3js.org/d3.v3.min.js"></script>

<script>

// Set the dimensions of the canvas / graph
var margin = {top: 30, right: 20, bottom: 30, left: 50},
    width = 600 - margin.left - margin.right,
    height = 270 - margin.top - margin.bottom;

// Parse the date / time
var parseDate = d3.time.format("%d-%b-%y").parse;

// Set the ranges
var x = d3.time.scale().range([0, width]);
var y = d3.scale.linear().range([height, 0]);

// Define the axes
var xAxis = d3.svg.axis().scale(x)
    .orient("bottom").ticks(5);

var yAxis = d3.svg.axis().scale(y)
    .orient("left").ticks(5);

// Define the line
var valueline = d3.svg.line()
    .x(function(d) { return x(d.date); })
    .y(function(d) { return y(d.yValue); });
    
// Adds the svg canvas
var svg = d3.select("#myd3_date_linechart")
    .append("svg")
        .attr("width", width + margin.left + margin.right)
        .attr("height", height + margin.top + margin.bottom)
    .append("g")
        .attr("transform", 
              "translate(" + margin.left + "," + margin.top + ")");

// Get the data
d3.csv("$TMPFILE", function(error, data) {
    data.forEach(function(d) {
        d.date = parseDate(d.date);
        d.yValue = +d.yValue;
    });

    // Scale the range of the data
    x.domain(d3.extent(data, function(d) { return d.date; }));
    y.domain([0, d3.max(data, function(d) { return d.yValue; })]);

    // Add the valueline path.
    svg.append("path")
        .attr("class", "line")
        .attr("d", valueline(data));

    // Add the X Axis
    svg.append("g")
        .attr("class", "x axis")
        .attr("transform", "translate(0," + height + ")")
        .call(xAxis);

    // Add the Y Axis
    svg.append("g")
        .attr("class", "y axis")
        .call(yAxis);

});

</script>
</div>

EOF

  cat $HTMLSCRIPT |& tee $TMPDIR/${FUNCNAME[0]}.stdout | html
}

csv_linechart() {

  echo "Invoked ${FUNCNAME[0]} $*" >&2

  # After call, data will be in file $TMPFILE:
  getinput_src "${FUNCNAME[0]}" "$1"

  # Copy TMPFILE to local ./tmp/
  #TMPFILE=${{ROOT_PATH_PREFIX}${TMPFILE}
  [ ! -d tmp ] && mkdir -p tmp
  cp $TMPFILE ./tmp/
  TMPFILE=tmp/${TMPFILE##*/}
  echo "csv_linechart: data file=$TMPFILE"

  HTMLSCRIPT=${ROOT_PATH_PREFIX}$TMPDIR/${FUNCNAME[0]}.html

  cat <<EOF > $HTMLSCRIPT
<!DOCTYPE html>
<meta charset="utf-8">
<style> /* set the CSS */

body { font: 12px Arial;}

path { 
    stroke: steelblue;
    stroke-width: 2;
    fill: none;
}

.axis path,
.axis line {
    fill: none;
    stroke: grey;
    stroke-width: 1;
    shape-rendering: crispEdges;
}

</style>
<div id="myd3_linechart">

<!-- load the d3.js library -->    
<script src="http://d3js.org/d3.v3.min.js"></script>

<script>

// Set the dimensions of the canvas / graph
var margin = {top: 30, right: 20, bottom: 30, left: 50},
    width = 600 - margin.left - margin.right,
    height = 270 - margin.top - margin.bottom;

// Set the ranges
var x = d3.scale.linear().range([0, width]);
var y = d3.scale.linear().range([height, 0]);

// Define the axes
var xAxis = d3.svg.axis().scale(x)
    .orient("bottom").ticks(5);

var yAxis = d3.svg.axis().scale(y)
    .orient("left").ticks(5);

// Define the line
var valueline = d3.svg.line()
    .x(function(d) { return x(d.xValue); })
    .y(function(d) { return y(d.yValue); });
    
// Adds the svg canvas
var svg = d3.select("#myd3_linechart")
    .append("svg")
        .attr("width", width + margin.left + margin.right)
        .attr("height", height + margin.top + margin.bottom)
    .append("g")
        .attr("transform", 
              "translate(" + margin.left + "," + margin.top + ")");

// Get the data
d3.csv("$TMPFILE", function(error, data) {
    data.forEach(function(d) {
        d.xValue = d.xValue;
        d.yValue = +d.yValue;
    });

    // Scale the range of the data
    x.domain(d3.extent(data, function(d) { return d.xValue; }));
    y.domain([0, d3.max(data, function(d) { return d.yValue; })]);

    // Add the valueline path.
    svg.append("path")
        .attr("class", "line")
        .attr("d", valueline(data));

    // Add the X Axis
    svg.append("g")
        .attr("class", "x axis")
        .attr("transform", "translate(0," + height + ")")
        .call(xAxis);

    // Add the Y Axis
    svg.append("g")
        .attr("class", "y axis")
        .call(yAxis);

});

</script>
</div>

EOF

  cat $HTMLSCRIPT |& tee $TMPDIR/${FUNCNAME[0]}.stdout | html
}

csv_d3piechart_0() {
    DATA_CSV="$1"; shift

    # After call, data will be in file $TMPFILE:
    GETINPUT ${FUNCNAME[0]} "$DATA_CSV"
    COPY_TMPFILE
    DATA_CSV=$TMPFILE

    DIV_ID=${FUNCNAME[0]}_$(date +%s)
    # USE_TEMPLATE <template> <input-file> <div-id>
    USE_TEMPLATE d3_pie_0.js.template "$DATA_CSV" "$DIV_ID" | html
}

csv_d3piechart() {
    DATA_CSV="$1"; shift

    # After call, data will be in file $TMPFILE:
    GETINPUT ${FUNCNAME[0]} "$DATA_CSV"
    COPY_TMPFILE
    DATA_CSV=$TMPFILE

    DIV_ID=${FUNCNAME[0]}_$(date +%s)
    # USE_TEMPLATE <template> <input-file> <div-id>
    USE_TEMPLATE d3_pie.js.template "$DATA_CSV" "$DIV_ID" | html
}

du_d3piechart() {

    if [ -z "$DU_MAX" ];then
        du $* | sort -nr
    else
        du $* | sort -nr | head -$DU_MAX
    fi | awk 'BEGIN { print "item,value";}; { print $2","$1;}' | csv_d3piechart
}

test_piechart_js() {
    # After call, data will be in file $TMPFILE:
    GETINPUT ${FUNCNAME[0]} "$DATA_CSV"
    COPY_TMPFILE
    DATA_CSV=$TMPFILE

    # USE_TEMPLATE <template> <input-file> <div-id>
    USE_TEMPLATE d3_pie.js.template "$1" "test_piechart" | html
}

test_alert_js() {
    # USE_TEMPLATE <template> <alert-message>
    USE_TEMPLATE alert.js.template "$1" | js
}

html_find() {
  {
    echo "+------+";
    echo "| Path |" ;
    echo "+------+";

    find "$@" | sed -e 's/^/\| /' -e 's/$/ \|/' ;

    echo "+------+" ;
  } | html_table | html
}

JUPYTER_ICON_BASE64="data:image/svg;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+Cjxzdmcgd2lkdGg9Ijc0N3B4IiBoZWlnaHQ9IjMxM3B4IiB2aWV3Qm94PSIwIDAgNzQ3IDMxMyIgdmVyc2lvbj0iMS4xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB4bWxuczpza2V0Y2g9Imh0dHA6Ly93d3cuYm9oZW1pYW5jb2RpbmcuY29tL3NrZXRjaC9ucyI+CiAgICA8IS0tIEdlbmVyYXRvcjogU2tldGNoIDMuMy4zICgxMjA3MikgLSBodHRwOi8vd3d3LmJvaGVtaWFuY29kaW5nLmNvbS9za2V0Y2ggLS0+CiAgICA8dGl0bGU+QXJ0Ym9hcmQ8L3RpdGxlPgogICAgPGRlc2M+Q3JlYXRlZCB3aXRoIFNrZXRjaC48L2Rlc2M+CiAgICA8ZGVmcz48L2RlZnM+CiAgICA8ZyBpZD0iUGFnZS0xIiBzdHJva2U9Im5vbmUiIHN0cm9rZS13aWR0aD0iMSIgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIiBza2V0Y2g6dHlwZT0iTVNQYWdlIj4KICAgICAgICA8ZyBpZD0iQXJ0Ym9hcmQiIHNrZXRjaDp0eXBlPSJNU0FydGJvYXJkR3JvdXAiPgogICAgICAgICAgICA8ZyBpZD0iR3JvdXAtQ29weS00LSstR3JvdXAtKy1Hcm91cC1Db3B5IiBza2V0Y2g6dHlwZT0iTVNMYXllckdyb3VwIj4KICAgICAgICAgICAgICAgIDxnIGlkPSJHcm91cC1Db3B5LTQiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDI0OC4wMDAwMDAsIDI2LjAwMDAwMCkiIHNrZXRjaDp0eXBlPSJNU1NoYXBlR3JvdXAiPgogICAgICAgICAgICAgICAgICAgIDxwYXRoIGQ9Ik0xMzEuMjU3MzM3LDIwNS4yNzM2MDcgQzg4LjY2NzYxNjMsMjA1LjI3MzYwNyA1MS41ODAzOTAyLDE4OS45NjIzMTIgMzIuMjcyOTAzLDE2Ny4zNDAzODEgQzQ2Ljg4NDAyNzEsMjA3Ljg5NDUzNiA4NS42ODM2MzE1LDIzNi44ODkyOSAxMzEuMjU3MzM3LDIzNi44ODkyOSBDMTc2LjgzMTA0MiwyMzYuODg5MjkgMjE1LjYzMTI5NiwyMDcuODk0NTM2IDIzMC4yNDI0MiwxNjcuMzQwMzgxIEMyMTAuOTM0OTMzLDE4OS45NjIzMTIgMTczLjg0NzcwNywyMDUuMjczNjA3IDEzMS4yNTczMzcsMjA1LjI3MzYwNyIgaWQ9IkZpbGwtOSIgZmlsbD0iI0U0NkUyRSI+PC9wYXRoPgogICAgICAgICAgICAgICAgICAgIDxwYXRoIGQ9Ik0xMzEuMjU3MzM3LDU4LjA0MDUwNDUgQzE3My44NDc3MDcsNTguMDQwNTA0NSAyMTAuOTM0OTMzLDczLjM1MjQ1MDYgMjMwLjI0MjQyLDk1Ljk3MzczMDkgQzIxNS42MzEyOTYsNTUuNDE5NTc1OSAxNzYuODMxMDQyLDI2LjQyNDgyMTYgMTMxLjI1NzMzNywyNi40MjQ4MjE2IEM4NS42ODM2MzE1LDI2LjQyNDgyMTYgNDYuODg0MDI3MSw1NS40MTk1NzU5IDMyLjI3MjkwMyw5NS45NzM3MzA5IEM1MS41ODAzOTAyLDczLjM1MjQ1MDYgODguNjY3NjE2Myw1OC4wNDA1MDQ1IDEzMS4yNTczMzcsNTguMDQwNTA0NSIgaWQ9IkZpbGwtMTAiIGZpbGw9IiNFNDZFMkUiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNNTEuNDU2NTQzOCwyNTkuODY0NjAyIEM0Mi4zMjQ4MjY5LDI2MC4yNTU2IDM0LjYwNDk1MzEsMjUzLjE3MDEyOSAzNC4yMTM5NTE1LDI0NC4wMzg1IEMzMy44MjIzMDc5LDIzNC45MDY4NzEgNDAuOTA4NDg5NCwyMjcuMTg3MDcyIDUwLjA0MDIwNjQsMjI2Ljc5NTQzMiBDNTkuMTcxOTIzMywyMjYuNDA0NDM0IDY2Ljg5MTc5NzEsMjMzLjQ4OTkwNiA2Ny4yODI3OTg3LDI0Mi42MjE1MzQgQzY3LjY3NDQ0MjMsMjUxLjc1MzE2MyA2MC41ODg5MDI4LDI1OS40NzM2MDQgNTEuNDU2NTQzOCwyNTkuODY0NjAyIFoiIGlkPSJGaWxsLTExIiBmaWxsPSIjNzY3NDc0Ij48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTM4Ljc1NzM5OTEsNDQuMzY1MDk1OSBDMzMuMDUwMTkyNCw0NC42MDk0MzU5IDI4LjIyNDgxNjksNDAuMTgxMDIwNSAyNy45ODA0ODU4LDM0LjQ3MzYwNyBDMjcuNzM2MTU0NiwyOC43NjU1MzQ5IDMyLjE2NDQwOTcsMjMuOTQwNjQzMiAzNy44NzE2MTY0LDIzLjY5NjMwMzIgQzQzLjU3OTQ4MTYsMjMuNDUxMzA0NiA0OC40MDQ4NTcxLDI3Ljg4MDM3ODcgNDguNjQ5MTg4MiwzMy41ODc3OTIyIEM0OC44OTM1MTk0LDM5LjI5NTIwNTcgNDQuNDY1MjY0NCw0NC4xMjA3NTU5IDM4Ljc1NzM5OTEsNDQuMzY1MDk1OSBaIiBpZD0iRmlsbC0xMiIgZmlsbD0iIzc2NzQ3NCI+PC9wYXRoPgogICAgICAgICAgICAgICAgICAgIDxwYXRoIGQ9Ik0yMDIuOTgxOTg0LDMyLjEwOTk0OSBDMTk0LjExODkxNCwzMi40ODk0MzM5IDE4Ni42MjYwMjcsMjUuNjEyOTU4NSAxODYuMjQ2NTQ1LDE2Ljc0OTgxMjUgQzE4NS44NjcwNjMsNy44ODc0MTY0MSAxOTIuNzQ0MjMsMC4zOTQ0NjU2NTYgMjAxLjYwNjU1MSwwLjAxNDk4MDgxMTQgQzIxMC40Njk2MjIsLTAuMzY0NTA0MDMzIDIxNy45NjE3NTksNi41MTE5NzEzNCAyMTguMzQxMjQsMTUuMzc1MTE3NCBDMjE4LjcyMTQ3MiwyNC4yMzc1MTM0IDIxMS44NDQzMDUsMzEuNzMwNDY0MiAyMDIuOTgxOTg0LDMyLjEwOTk0OSBaIiBpZD0iRmlsbC04IiBmaWxsPSIjNzY3NDc0Ij48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPGcgaWQ9Ikdyb3VwLUNvcHkiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDAuMDAwMDAwLCAxMDAuODcwNzA0KSIgZmlsbD0iIzMxMzk0MCI+CiAgICAgICAgICAgICAgICAgICAgICAgIDxwYXRoIGQ9Ik0xMC45MTAzNDAxLDQ0Ljc0ODk4MzIgQzEwLjkxMDM0MDEsNTQuMjgwNzU2OCAxMC4xNjUzNjI1LDU3LjQwMjg4NiA4LjE3Nzc1MDM1LDU5LjcwMzMyMzUgQzYuNDM5NzIwNzQsNjEuNTkyOTE1MSAzLjU0MTk5OTM0LDYyLjQ5NjkyNTcgMC4yMzAzMTc3NDYsNjIuNzQzODgyMiBMMC45NzUyOTUzLDY4LjQxMzQwNTQgQzQuODY2MDY4NzYsNjguNDEzNDA1NCAxMC4xNjUzNjI1LDY3LjA5ODU0OSAxMy4zOTQxMDEzLDYzLjg5NDEwMDkgQzE2Ljk1Mzg1NzQsNjAuMjc4ODA3IDE4LjE5NTczOCw1NS4yNjYzMzc5IDE4LjE5NTczOCw0Ny41NDI1ODU0IEwxOC4xOTU3MzgsMTEuNDcwNDY4NyBMMTAuOTEwMzQwMSwxMS40NzA0Njg3IEwxMC45MTAzNDAxLDQ0Ljc0ODk4MzIiIGlkPSJGaWxsLTEiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTY1LjMwNTAxMTksNDAuMzk0MzE2NSBDNjUuMzA1MDExOSw0NC41MDIwMjY3IDY1LjM4NzIwMDcsNDguMTE4MDY5IDY1LjYzNjAyOTIsNTEuMjQwMTk4MSBMNTkuMTc3Nzk3Nyw1MS4yNDAxOTgxIEw1OC43NjM4Mzc1LDQ0Ljc0ODk4MzIgTDU4LjU5ODcwNTksNDQuNzQ4OTgzMiBDNTYuNjk0MDM2NSw0Ny45NTM0MzEzIDUyLjQ3MTQ5MTcsNTIuMTQzNDYwNCA0NS4zNTE5Nzk1LDUyLjE0MzQ2MDQgQzM5LjA1OTYzMzYsNTIuMTQzNDYwNCAzMS41MjU0MDcyLDQ4LjY5MjgwNDIgMzEuNTI1NDA3MiwzNC43MjQ3OTMzIEwzMS41MjU0MDcyLDExLjQ3MDQ2ODcgTDM4LjgxMTU1OTEsMTEuNDcwNDY4NyBMMzguODExNTU5MSwzMy40OTE1MDc0IEMzOC44MTE1NTkxLDQxLjA1MDYyMjIgNDEuMTI5NDM0Niw0Ni4xNDYxNTg1IDQ3Ljc1Mjc5NzgsNDYuMTQ2MTU4NSBDNTIuNjM3Mzc3NCw0Ni4xNDYxNTg1IDU2LjAzMjAwMTgsNDIuNzc3MDcyOCA1Ny4zNTY4MjUzLDM5LjU3MTg3NjQgQzU3Ljc3MDc4NTUsMzguNTAzOTc2NSA1OC4wMTg4NiwzNy4xODkxMjAxIDU4LjAxODg2LDM1Ljg3NDI2MzcgTDU4LjAxODg2LDExLjQ3MDQ2ODcgTDY1LjMwNTAxMTksMTEuNDcwNDY4NyBMNjUuMzA1MDExOSw0MC4zOTQzMTY1IiBpZD0iRmlsbC0yIj48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgICAgIDxwYXRoIGQ9Ik03OS4wNDkzOTUzLDI0LjQ1Mjg5ODUgQzc5LjA0OTM5NTMsMTkuMzU4ODU4OCA3OC44ODQyNjM3LDE1LjI0OTY1MTkgNzguNzE4Mzc4LDExLjQ3MDQ2ODcgTDg1LjI1ODc5ODMsMTEuNDcwNDY4NyBMODUuNTg5ODE1NywxOC4yOTAyMTA2IEw4NS43NTU3MDE0LDE4LjI5MDIxMDYgQzg4LjczNjM2NTYsMTMuNDQyMzc5MSA5My40NTUwNTk1LDEwLjU2NjQ1ODEgOTkuOTk1NDc5OCwxMC41NjY0NTgxIEMxMDkuNjgyNDUsMTAuNTY2NDU4MSAxMTYuOTY3ODQ4LDE4LjcwMTA1NjQgMTE2Ljk2Nzg0OCwzMC43ODAyMjQgQzExNi45Njc4NDgsNDUuMDc3NTEwMyAxMDguMTkxNzQxLDUyLjE0MzQ2MDQgOTguNzUzNTk5Miw1Mi4xNDM0NjA0IEM5My40NTUwNTk1LDUyLjE0MzQ2MDQgODguODE4NTU0NCw0OS44NDMwMjI5IDg2LjQxNzczNjEsNDUuODk5MjAyIEw4Ni4yNTI2MDQ0LDQ1Ljg5OTIwMiBMODYuMjUyNjA0NCw2Ny41MDkzOTQ4IEw3OS4wNDkzOTUzLDY3LjUwOTM5NDggTDc5LjA0OTM5NTMsMjQuNDUyODk4NSBMNzkuMDQ5Mzk1MywyNC40NTI4OTg1IFogTTg2LjI1MjYwNDQsMzUuMDUyNTcyIEM4Ni4yNTI2MDQ0LDM2LjEyMTIyMDIgODYuNDE3NzM2MSwzNy4xMDc1NDk2IDg2LjU4MzYyMTgsMzguMDEwODExOCBDODcuOTA3NjkxMiw0My4wMjMyODEgOTIuMjk2MTIxNyw0Ni40NzM5MzcyIDk3LjUxMTcxODYsNDYuNDczOTM3MiBDMTA1LjIxMTA3Nyw0Ni40NzM5MzcyIDEwOS42ODI0NSw0MC4yMjk2Nzg4IDEwOS42ODI0NSwzMS4xMDg3NTExIEMxMDkuNjgyNDUsMjMuMTM4NzkwNCAxMDUuNDU5OTA1LDE2LjMxODMwMDEgOTcuNzYwNTQ3MiwxNi4zMTgzMDAxIEM5Mi43OTMwMjQ4LDE2LjMxODMwMDEgODguMTU2NTE5NywxOS44NTIwMjM1IDg2Ljc0ODc1MzQsMjUuMjc0NTkwMiBDODYuNTAwNjc4OSwyNi4xNzg2MDA3IDg2LjI1MjYwNDQsMjcuMjQ2NTAwNiA4Ni4yNTI2MDQ0LDI4LjIzMjgzIEw4Ni4yNTI2MDQ0LDM1LjA1MjU3MiBMODYuMjUyNjA0NCwzNS4wNTI1NzIgWiIgaWQ9IkZpbGwtMyI+PC9wYXRoPgogICAgICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMTI5Ljg4NDMxMSwxMS40NzA0Njg3IEwxMzguNjYwNDE4LDM0Ljk3MTAwMTUgQzEzOS41NzEyODEsMzcuNjAwNzE0MyAxNDAuNTY0MzMzLDQwLjcyMjA5NTEgMTQxLjIyNzEyMiw0My4xMDU1OTk4IEwxNDEuMzkyMjU0LDQzLjEwNTU5OTggQzE0Mi4xMzc5ODUsNDAuNzIyMDk1MSAxNDIuOTY1OTA2LDM3LjY4MjI4NDggMTQzLjk1ODk1OCwzNC44MDYzNjM4IEwxNTEuOTA3MTQ0LDExLjQ3MDQ2ODcgTDE1OS42MDY1MDMsMTEuNDcwNDY4NyBMMTQ4LjY3ODQwNiwzOS44MTg4MzI5IEMxNDMuNDYyMDU1LDUzLjQ1ODMxNjggMTM5LjkwMjI5OSw2MC40NDM0NDQ3IDEzNC45MzQ3NzYsNjQuNzE1NzkyNyBDMTMxLjM3NTAyLDY3LjgzNzkyMTggMTI3LjgxNDUxLDY5LjA3MDQ1OTQgMTI1Ljk5MzUzOCw2OS4zOTg5ODY0IEwxMjQuMTcxODExLDYzLjMxOTM2NTcgQzEyNS45OTM1MzgsNjIuNzQzODgyMiAxMjguMzk0MzU2LDYxLjU5MjkxNTEgMTMwLjU0NzEsNTkuNzg1NjQyMyBDMTMyLjUzMzk1OCw1OC4yMjM4Mjk0IDEzNS4wMTc3MTksNTUuNDMwMjI3MiAxMzYuNjczNTYsNTEuNzMzMzYyOCBDMTM3LjAwNDU3Nyw1MC45OTM5OSAxMzcuMjUyNjUyLDUwLjQxODUwNjQgMTM3LjI1MjY1Miw1MC4wMDc2NjA2IEMxMzcuMjUyNjUyLDQ5LjU5NjA2NjQgMTM3LjA4NzUyLDQ5LjAyMjA3OTUgMTM2Ljc1NTc0OSw0OC4xMTgwNjkgTDEyMS45MzY4NzgsMTEuNDcwNDY4NyBMMTI5Ljg4NDMxMSwxMS40NzA0Njg3IiBpZD0iRmlsbC00Ij48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgICAgIDxwYXRoIGQ9Ik0xNzguNzY3MDU0LDAuMDQ5MTAzNDUxNiBMMTc4Ljc2NzA1NCwxMS40NzA0Njg3IEwxODkuMTk5MDAyLDExLjQ3MDQ2ODcgTDE4OS4xOTkwMDIsMTYuOTc2MTAyNSBMMTc4Ljc2NzA1NCwxNi45NzYxMDI1IEwxNzguNzY3MDU0LDM4LjQyMTY1NzcgQzE3OC43NjcwNTQsNDMuMzUxODA4IDE4MC4xNzQ4Miw0Ni4xNDYxNTg1IDE4NC4yMzE0NzksNDYuMTQ2MTU4NSBDMTg2LjEzNTM5NSw0Ni4xNDYxNTg1IDE4Ny41NDMxNjEsNDUuODk5MjAyIDE4OC40NTQwMjQsNDUuNjUyOTkzOCBMMTg4Ljc4NTA0MSw1MS4wNzU1NjA1IEMxODcuMzc3Mjc1LDUxLjY1MTA0NCAxODUuMTQyMzQyLDUyLjA2MTg4OTkgMTgyLjMyNzU2NCw1Mi4wNjE4ODk5IEMxNzguOTMyOTM5LDUyLjA2MTg4OTkgMTc2LjIwMDM1LDUwLjk5Mzk5IDE3NC40NjE1NjYsNDkuMDIyMDc5NSBDMTcyLjM5MjUxOSw0Ni44ODQ3ODMgMTcxLjY0Njc4OCw0My4zNTE4MDggMTcxLjY0Njc4OCwzOC42Njc4NjU4IEwxNzEuNjQ2Nzg4LDE2Ljk3NjEwMjUgTDE2NS40MzgxMzksMTYuOTc2MTAyNSBMMTY1LjQzODEzOSwxMS40NzA0Njg3IEwxNzEuNjQ2Nzg4LDExLjQ3MDQ2ODcgTDE3MS42NDY3ODgsMS45Mzg2OTUwNiBMMTc4Ljc2NzA1NCwwLjA0OTEwMzQ1MTYiIGlkPSJGaWxsLTUiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTIwMi42MTE2MTQsMzIuNjY5ODE1NiBDMjAyLjc3Njc0NSw0Mi40NDc3OTc0IDIwOS4wNjk4NDUsNDYuNDczOTM3MiAyMTYuMzU1MjQzLDQ2LjQ3MzkzNzIgQzIyMS41NzA4NCw0Ni40NzM5MzcyIDIyNC43MTY2MzYsNDUuNTcwNjc1IDIyNy40NDkyMjYsNDQuNDE5NzA3OSBMMjI4LjY5MTEwNiw0OS41OTYwNjY0IEMyMjYuMTI0NDAyLDUwLjc0NzAzMzQgMjIxLjczNjcyNiw1Mi4wNjE4ODk5IDIxNS4zNjE0MzcsNTIuMDYxODg5OSBDMjAzLjAyNTU3NCw1Mi4wNjE4ODk5IDE5NS42NTcyMzMsNDQuMDA4ODYyIDE5NS42NTcyMzMsMzIuMDEyNzYxNiBDMTk1LjY1NzIzMywyMC4wMTU5MTI5IDIwMi43NzY3NDUsMTAuNTY2NDU4MSAyMTQuNDUxMzI4LDEwLjU2NjQ1ODEgQzIyNy41MzIxNjgsMTAuNTY2NDU4MSAyMzEuMDA4OTgyLDIxLjk4NzgyMzMgMjMxLjAwODk4MiwyOS4zMDA3Mjk5IEMyMzEuMDA4OTgyLDMwLjc4MDIyNCAyMzAuODQzODUsMzEuOTMwNDQyOCAyMzAuNzYwOTA3LDMyLjY2OTgxNTYgTDIwMi42MTE2MTQsMzIuNjY5ODE1NiBMMjAyLjYxMTYxNCwzMi42Njk4MTU2IFogTTIyMy45NzE2NTgsMjcuNDkzNDU3MiBDMjI0LjA1NDYwMSwyMi44OTE4MzM5IDIyMi4wNjc3NDMsMTUuNzQyODE2NiAyMTMuODcxNDgyLDE1Ljc0MjgxNjYgQzIwNi41MDMxNDEsMTUuNzQyODE2NiAyMDMuMjczNjQ4LDIyLjQ4MDk4OCAyMDIuNjk0NTU3LDI3LjQ5MzQ1NzIgTDIyMy45NzE2NTgsMjcuNDkzNDU3MiBMMjIzLjk3MTY1OCwyNy40OTM0NTcyIFoiIGlkPSJGaWxsLTYiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTI0MS42OTA1MTIsMjMuODc3NDE0OSBDMjQxLjY5MDUxMiwxOS4xOTQyMjExIDI0MS42MDc1NjksMTUuMTY3MzMzIDI0MS4zNTg3NDEsMTEuNDcwNDY4NyBMMjQ3LjczNDAyOSwxMS40NzA0Njg3IEwyNDcuOTgyODU4LDE5LjI3NjU0IEwyNDguMzEzODc1LDE5LjI3NjU0IEMyNTAuMTM0ODQ4LDEzLjkzNTU0MzggMjU0LjUyMzI3OCwxMC41NjY0NTgxIDI1OS40MDc4NTgsMTAuNTY2NDU4MSBDMjYwLjIzNTc3OCwxMC41NjY0NTgxIDI2MC44MTU2MjQsMTAuNjQ4Nzc2OSAyNjEuNDc3NjU5LDEwLjgxMzQxNDYgTDI2MS40Nzc2NTksMTcuNjMzMTU2NSBDMjYwLjczMjY4MSwxNy40NjkyNjcyIDI1OS45ODY5NSwxNy4zODY5NDg0IDI1OC45OTM4OTgsMTcuMzg2OTQ4NCBDMjUzLjg2MDQ5LDE3LjM4Njk0ODQgMjUwLjIxNzc5MSwyMS4yNDg0NTA0IDI0OS4yMjQ3MzksMjYuNjcxMDE3MSBDMjQ5LjA1ODg1MywyNy42NTczNDY1IDI0OC44OTI5NjcsMjguODA4MzEzNiAyNDguODkyOTY3LDMwLjA0MDEwMjggTDI0OC44OTI5NjcsNTEuMjQwMTk4MSBMMjQxLjY5MDUxMiw1MS4yNDAxOTgxIEwyNDEuNjkwNTEyLDIzLjg3NzQxNDkiIGlkPSJGaWxsLTciPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8L2c+CiAgICAgICAgICAgICAgICA8L2c+CiAgICAgICAgICAgIDwvZz4KICAgICAgICA8L2c+CiAgICA8L2c+Cjwvc3ZnPg=="
JUPYTER_SVG='<svg width="747px" height="313px" viewBox="0 0 747 313" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:sketch="http://www.bohemiancoding.com/sketch/ns"> <title>Artboard</title> <desc>Created with Sketch.</desc> <defs></defs> <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" sketch:type="MSPage"> <g id="Artboard" sketch:type="MSArtboardGroup"> <g id="Group-Copy-4-+-Group-+-Group-Copy" sketch:type="MSLayerGroup"> <g id="Group-Copy-4" transform="translate(248.000000, 26.000000)" sketch:type="MSShapeGroup"> <path d="M131.257337,205.273607 C88.6676163,205.273607 51.5803902,189.962312 32.272903,167.340381 C46.8840271,207.894536 85.6836315,236.88929 131.257337,236.88929 C176.831042,236.88929 215.631296,207.894536 230.24242,167.340381 C210.934933,189.962312 173.847707,205.273607 131.257337,205.273607" id="Fill-9" fill="#E46E2E"></path> <path d="M131.257337,58.0405045 C173.847707,58.0405045 210.934933,73.3524506 230.24242,95.9737309 C215.631296,55.4195759 176.831042,26.4248216 131.257337,26.4248216 C85.6836315,26.4248216 46.8840271,55.4195759 32.272903,95.9737309 C51.5803902,73.3524506 88.6676163,58.0405045 131.257337,58.0405045" id="Fill-10" fill="#E46E2E"></path> <path d="M51.4565438,259.864602 C42.3248269,260.2556 34.6049531,253.170129 34.2139515,244.0385 C33.8223079,234.906871 40.9084894,227.187072 50.0402064,226.795432 C59.1719233,226.404434 66.8917971,233.489906 67.2827987,242.621534 C67.6744423,251.753163 60.5889028,259.473604 51.4565438,259.864602 Z" id="Fill-11" fill="#767474"></path> <path d="M38.7573991,44.3650959 C33.0501924,44.6094359 28.2248169,40.1810205 27.9804858,34.473607 C27.7361546,28.7655349 32.1644097,23.9406432 37.8716164,23.6963032 C43.5794816,23.4513046 48.4048571,27.8803787 48.6491882,33.5877922 C48.8935194,39.2952057 44.4652644,44.1207559 38.7573991,44.3650959 Z" id="Fill-12" fill="#767474"></path> <path d="M202.981984,32.109949 C194.118914,32.4894339 186.626027,25.6129585 186.246545,16.7498125 C185.867063,7.88741641 192.74423,0.394465656 201.606551,0.0149808114 C210.469622,-0.364504033 217.961759,6.51197134 218.34124,15.3751174 C218.721472,24.2375134 211.844305,31.7304642 202.981984,32.109949 Z" id="Fill-8" fill="#767474"></path> <g id="Group-Copy" transform="translate(0.000000, 100.870704)" fill="#313940"> <path d="M10.9103401,44.7489832 C10.9103401,54.2807568 10.1653625,57.402886 8.17775035,59.7033235 C6.43972074,61.5929151 3.54199934,62.4969257 0.230317746,62.7438822 L0.9752953,68.4134054 C4.86606876,68.4134054 10.1653625,67.098549 13.3941013,63.8941009 C16.9538574,60.278807 18.195738,55.2663379 18.195738,47.5425854 L18.195738,11.4704687 L10.9103401,11.4704687 L10.9103401,44.7489832" id="Fill-1"></path> <path d="M65.3050119,40.3943165 C65.3050119,44.5020267 65.3872007,48.118069 65.6360292,51.2401981 L59.1777977,51.2401981 L58.7638375,44.7489832 L58.5987059,44.7489832 C56.6940365,47.9534313 52.4714917,52.1434604 45.3519795,52.1434604 C39.0596336,52.1434604 31.5254072,48.6928042 31.5254072,34.7247933 L31.5254072,11.4704687 L38.8115591,11.4704687 L38.8115591,33.4915074 C38.8115591,41.0506222 41.1294346,46.1461585 47.7527978,46.1461585 C52.6373774,46.1461585 56.0320018,42.7770728 57.3568253,39.5718764 C57.7707855,38.5039765 58.01886,37.1891201 58.01886,35.8742637 L58.01886,11.4704687 L65.3050119,11.4704687 L65.3050119,40.3943165" id="Fill-2"></path> <path d="M79.0493953,24.4528985 C79.0493953,19.3588588 78.8842637,15.2496519 78.718378,11.4704687 L85.2587983,11.4704687 L85.5898157,18.2902106 L85.7557014,18.2902106 C88.7363656,13.4423791 93.4550595,10.5664581 99.9954798,10.5664581 C109.68245,10.5664581 116.967848,18.7010564 116.967848,30.780224 C116.967848,45.0775103 108.191741,52.1434604 98.7535992,52.1434604 C93.4550595,52.1434604 88.8185544,49.8430229 86.4177361,45.899202 L86.2526044,45.899202 L86.2526044,67.5093948 L79.0493953,67.5093948 L79.0493953,24.4528985 L79.0493953,24.4528985 Z M86.2526044,35.052572 C86.2526044,36.1212202 86.4177361,37.1075496 86.5836218,38.0108118 C87.9076912,43.023281 92.2961217,46.4739372 97.5117186,46.4739372 C105.211077,46.4739372 109.68245,40.2296788 109.68245,31.1087511 C109.68245,23.1387904 105.459905,16.3183001 97.7605472,16.3183001 C92.7930248,16.3183001 88.1565197,19.8520235 86.7487534,25.2745902 C86.5006789,26.1786007 86.2526044,27.2465006 86.2526044,28.23283 L86.2526044,35.052572 L86.2526044,35.052572 Z" id="Fill-3"></path> <path d="M129.884311,11.4704687 L138.660418,34.9710015 C139.571281,37.6007143 140.564333,40.7220951 141.227122,43.1055998 L141.392254,43.1055998 C142.137985,40.7220951 142.965906,37.6822848 143.958958,34.8063638 L151.907144,11.4704687 L159.606503,11.4704687 L148.678406,39.8188329 C143.462055,53.4583168 139.902299,60.4434447 134.934776,64.7157927 C131.37502,67.8379218 127.81451,69.0704594 125.993538,69.3989864 L124.171811,63.3193657 C125.993538,62.7438822 128.394356,61.5929151 130.5471,59.7856423 C132.533958,58.2238294 135.017719,55.4302272 136.67356,51.7333628 C137.004577,50.99399 137.252652,50.4185064 137.252652,50.0076606 C137.252652,49.5960664 137.08752,49.0220795 136.755749,48.118069 L121.936878,11.4704687 L129.884311,11.4704687" id="Fill-4"></path> <path d="M178.767054,0.0491034516 L178.767054,11.4704687 L189.199002,11.4704687 L189.199002,16.9761025 L178.767054,16.9761025 L178.767054,38.4216577 C178.767054,43.351808 180.17482,46.1461585 184.231479,46.1461585 C186.135395,46.1461585 187.543161,45.899202 188.454024,45.6529938 L188.785041,51.0755605 C187.377275,51.651044 185.142342,52.0618899 182.327564,52.0618899 C178.932939,52.0618899 176.20035,50.99399 174.461566,49.0220795 C172.392519,46.884783 171.646788,43.351808 171.646788,38.6678658 L171.646788,16.9761025 L165.438139,16.9761025 L165.438139,11.4704687 L171.646788,11.4704687 L171.646788,1.93869506 L178.767054,0.0491034516" id="Fill-5"></path> <path d="M202.611614,32.6698156 C202.776745,42.4477974 209.069845,46.4739372 216.355243,46.4739372 C221.57084,46.4739372 224.716636,45.570675 227.449226,44.4197079 L228.691106,49.5960664 C226.124402,50.7470334 221.736726,52.0618899 215.361437,52.0618899 C203.025574,52.0618899 195.657233,44.008862 195.657233,32.0127616 C195.657233,20.0159129 202.776745,10.5664581 214.451328,10.5664581 C227.532168,10.5664581 231.008982,21.9878233 231.008982,29.3007299 C231.008982,30.780224 230.84385,31.9304428 230.760907,32.6698156 L202.611614,32.6698156 L202.611614,32.6698156 Z M223.971658,27.4934572 C224.054601,22.8918339 222.067743,15.7428166 213.871482,15.7428166 C206.503141,15.7428166 203.273648,22.480988 202.694557,27.4934572 L223.971658,27.4934572 L223.971658,27.4934572 Z" id="Fill-6"></path> <path d="M241.690512,23.8774149 C241.690512,19.1942211 241.607569,15.167333 241.358741,11.4704687 L247.734029,11.4704687 L247.982858,19.27654 L248.313875,19.27654 C250.134848,13.9355438 254.523278,10.5664581 259.407858,10.5664581 C260.235778,10.5664581 260.815624,10.6487769 261.477659,10.8134146 L261.477659,17.6331565 C260.732681,17.4692672 259.98695,17.3869484 258.993898,17.3869484 C253.86049,17.3869484 250.217791,21.2484504 249.224739,26.6710171 C249.058853,27.6573465 248.892967,28.8083136 248.892967,30.0401028 L248.892967,51.2401981 L241.690512,51.2401981 L241.690512,23.8774149" id="Fill-7"></path> </g> </g> </g> </g> </g> </svg> '

FOLDER_ICON_BASE64='data:image/jpeg;base64,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'
QN_MARK_BASE64="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiA/Pjxzdmcgdmlld0JveD0iMCAwIDY0IDY0IiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPjxwYXRoIGQ9Ik0zMi44NyA2NGMtLjMzIDAtLjYyOC0uMDEtLjg4OC0uMDI0LTMuNzY1LS4yMi03LjU5LTIuNTUtNy42NS03LjI2Ni0uMDIzLTEuODcuNjQtMy41NDggMS45MTUtNC44NDcgMS4wMjItMS4wNCAyLjQxLTEuOCAzLjk5Ny0yLjIxMy0yLjczNi0uNTYtMy4wNjMtMS41MDQtMy4zMDYtMi4yMS0uNTM3LTEuNTUzLS43NTgtOC41MTUgMi42NS0xMy4zMzcuNTQ2LS43NzIgMS4wODYtMS41MSAxLjYxLTIuMjI0IDIuMDI0LTIuNzY3IDMuNzctNS4xNTYgNC4yNy03LjQ1OC4zNzYtMS43MzMuMTk3LTMuMy0uNDktNC4yOTgtLjU3My0uODMtMS41MzQtMS4zMzYtMi45NC0xLjU0My0uMjIzLS4wMzItLjQ0Mi0uMDQ4LS42NS0uMDQ4LTEuNDQgMC0yLjIyNy44MDUtMi42MzMgMS40OC0uNjY2IDEuMTEtLjc1IDIuNjItLjIwMiAzLjY3IDEuNzk4IDMuNDQ4IDIuMDggNS4xNDggMS4xMiA2LjczOC0xLjAyNCAxLjg1Ny03Ljg1MyAzLjg1LTExLjg4NSAzLjg1LTEuMzMzIDAtMi41Ny0uMTYyLTMuNjgtLjQ4My0zLjA5LS45LTUuMDM4LTEyLjgzNS0zLjY1My0xOC40MDNDMTIuMzU1IDcuNzM4IDIwLjM4NSAwIDMyLjA2MyAwYy4yNDUgMCAuNDk1LjAwNC43NDQuMDEgMTMuNTguMzg2IDIxLjUgNy41MzggMjEuMTg0IDE5LjEzMi0uMjA0IDcuNDk1LTIuOTI4IDExLjQ5Ny01LjMzMiAxNS4wMjctMS41IDIuMjAzLTIuOTIgNC4yODYtMy43MTUgNy4xNzMtLjMwNyAxLjExNC0uNTYgMi4wNDYtLjc3IDIuODI1LTEuMTM2IDQuMjAzLTEuNTYgNS43NzctNC4xNTggNS43NzdoLS4wOTdjLS4wODcgMC0uMTU3LjAwMi0uMjQuMDE2LS42MDIuMTA0LTEuNDc0LjE0Ni0yLjI2LjE2IDMuMTUgMS4zMjIgNS4yMyA0LjExIDUuMzE1IDcuNTIuMDM1IDEuNDE4LS40NyAyLjcxLTEuNDY0IDMuNzMzLTIuMyAyLjM3LTYuNjQgMi42MjctOC40IDIuNjI3eiIgZmlsbD0iI0ZGRiIvPjxwYXRoIGQ9Ik0xOC4zOSAxNS4xNjhjLS4zMDguMjY2LTEuNDU2IDEuNjQzLTEuOTg2IDMuNTA3LS41MyAxLjg2NS0uMTMyIDQuNDQtLjA4OCA1LjA2LjA0NC42MjMgMS41LjM1NiAxLjcyMi4xMzQuMjItLjIyMy0uMDQ0LS4zMTItLjE3Ny0zLjI4Ni0uMTMtMi45NzUgMS4yMzctNC41MyAxLjIzNy00LjcwNiAwLS4xNzctLjQzNi0uOTQzLS43MDYtLjcxem0xNS4wMSAzNi41NGMtMy4yMjItLjA5LTYuNzEgMS40NjQtNi42NjUgNC45NzIuMDQ0IDMuNTA3IDMuMDkgNC43NSA1LjM4NiA0Ljg4NCAyLjI5Ny4xMzMgOC4zLS4zMSA4LjIxMi0zLjg2My0uMDg4LTMuNTUtMy4wODgtNS44ODctNi45My01Ljk5M3ptLS44MzggNy45NDZjLTIuMDMgMC0zLjUzMi0xLjY4Ny0zLjU3Ni0zLjAyLS4wNDQtMS4zMyAxLjE5Mi0zLjI4NCA0LjU5LTMuMzczIDEuNTQ2LS4wNCA0LjMyNyAxLjA2NyA0LjUwNCAzLjU5Ny4xNzcgMi41My0zLjQ4NyAyLjc5Ny01LjUxOCAyLjc5N3ptLjE3Ny01Ny4yMjhjLTEwLjk1LS4zMS0xOC4zMjIgNi45Ny0xOS45NTYgMTMuNTQtMS42MzMgNi41NzIgMS42NDUgMTUuMzk3IDEuOTg3IDE1LjQ5NiA1LjIxIDEuNTEgMTIuNTgzLTEuODIgMTIuODAzLTIuMjIuMjItLjQuNzUtLjgtMS4xNDgtNC40NC0xLjg5OC0zLjY0LjUzLTkuNDEyIDUuOTYtOC42MTMgNS40My43OTggNi4xOCA1LjI4MiA1LjQzIDguNzQ1LS43NSAzLjQ2My0zLjQ0MyA2LjU3LTYuMjcgMTAuNTY3LTIuODI0IDMuOTk2LTIuNjkyIDEwLjEyMy0yLjM0IDExLjE0NC4zNTQgMS4wMiA4LjI1NyAxLjI0MyAxMC4wNjYuOTMyIDEuODEtLjMxIDEuMTA1IDEuMjg3IDMuMzU2LTYuODgyIDIuMjUtOC4xNyA4LjY1My0xMC4zIDguOTYyLTIxLjYyMnMtNy45LTE2LjMzNy0xOC44NS0xNi42NDh6bTE2LjU1NCAxOC4yOTJjLS4yNjUtLjI2Ni0yLjI5Ni00LjYxNy0yLjczNy00LjYxNy0uNDQyIDAtLjkyNy41NzgtLjc5NS43MS4xMzIuMTM0IDMuMjIzIDQuODQgMy4yNjcgNS4yODQuMDQzLjQ0NC0uNDg3IDIuMzk4LS41MyAyLjI2NC0uMDQ1LS4xMzMtMi44Ny01LjU5NC0zLjEzNS01LjU5NC0uMjY1IDAtLjg4My42MjItLjY2Mi45MzIuMjIuMzEgMy40NDMgNS44NiAzLjQ0MyA1Ljg2cy0uODQgMi4wODctLjk3IDEuOTk4LTMuMDAzLTUuNzcyLTMuMTgtNS43NzItLjU3NC44LS40ODYgMS4wMmMuMDg4LjIyMyAzLjIyMyA1LjQ2MiAzLjIyMyA1LjgxNyAwIC4zNTQtMS4zNyAxLjk5Ny0xLjM3IDEuOTk3cy0yLjQyNy01LjU1LTIuNjQ4LTUuNTVjLS4yMiAwLS43MDYgMS4wNjUtLjcwNiAxLjA2NXMyLjczNiA1LjQ2IDIuNzM2IDUuNTk0YzAgLjEzMy0xLjAxNSAxLjczLTEuMDE1IDEuNzNzLTIuMDMtNC45Ny0yLjE2Mi00Ljk3Yy0uMTMyIDAtLjc1Ljg0My0uNjYyIDEuMDIuMDg4LjE3OCAyLjE2MyA0LjYxNyAyLjE2MyA0Ljg0IDAgLjIyLS44NCAyLjY2My0uOTcyIDIuNTNzLTIuMjUtNS40MTYtMi40MjgtNS40NmMtLjE3Ny0uMDQ1LS44ODMuOTMtLjY2MiAxLjI0Mi4yMi4zMSAyLjU2IDUuMjgzIDIuNTYgNS41MDUgMCAuMjIyLS42MTcgMi4wODctLjc1IDIuMDQyLS4xMy0uMDQ0LTIuNjkyLTUuODE2LTIuNjkyLTUuODE2cy0uNzk1Ljg4Ny0uNzA2IDEuMTUzYy4wODguMjY2IDIuNzggNS44NiAyLjc4IDUuODZsLS44ODIgMi4yMnMtMi42OTMtNi40MzgtMi44MjUtNi40MzhjLS4xMzIgMC0uNjYyIDEuMTEtLjU3NCAxLjM3Ni4wODcuMjY3IDMuMTc4IDYuMzA1IDMuMDkgNi42MTYtLjA5LjMxLTEuMDYuNDQ0LTEuMjguMjY2LS4yMjItLjE3OC0yLjk2LTUuNjM4LTIuOTYtNS42MzhzLS42Ni44ODgtLjQ0IDEuMTU0Yy4yMi4yNjYgMi41MTUgNC41MyAyLjI5NSA0LjUzLS4yMiAwLTEuNjc4LjI2NS0xLjY3OCAwIDAtLjI2Ny0xLjAxNS0yLjY2NS0xLjIzNi0yLjcxLS4yMi0uMDQzLS44ODIuMjY3LS44MzguNTM0LjA0NC4yNjYgMS4zMjQgMi4xMyAxLjAxNSAyLjEzLS4zMSAwLTIuMjk2LS4yMi0yLjM4NC0uMzU0LS4wODgtLjEzMy4wNDQtNC45NzMgMS42MzMtNy45MDMgMS41OS0yLjkzIDYuNjIyLTguNzAyIDYuOTc1LTEyLjc0Mi4zNTQtNC4wNC0uODgyLTcuMjM3LTQuOTg4LTkuNzIzLTQuMTA2LTIuNDg2LTkuOC0uMjIyLTExLjIxMyA0LjcwNnMxLjcyIDguNDggMS43MiA4LjgzNWMwIC4zNTYtNi4xMzUgMi4yMi05LjE4MiAxLjE1NSAwIDAtMi4zODQtNS42ODMtMS44NTQtMTEuMDEuNTMtNS4zMyA1LjYwNy0xMC41MjMgOS4zMTUtMTIuM3MxMi4yNzItMi40ODUgMTYuOTA3LS42MiA2Ljg4NyA2LjIxNSA3LjUwNSA4LjE2OGMwIDAtMS4xNDgtLjc1NS0xLjI4LS43MS0uMTMyLjA0NC0uMzk3Ljg0NC0uMTMyIDEuMDIuMjY1LjE4IDIuMTYzIDIuNTc2IDIuMjk2IDMuMDIuMTMyLjQ1LjM1MyA0IC4wODggMy43MzV6TTMxLjc2NyA1NC41MDRjLTEuNS40LTEuNjc4IDIuMzEtMS41IDMuMDIuMTc2LjcxIDEuMjM1LjU3NiAxLjQ1Ni40NDMuMjItLjEzMyAwLS4yMjItLjEzMi0xLjA2NS0uMTMtLjg0NC44ODQtMS44MiAxLjA2LTEuOTU0LjE3Ny0uMTMzLS40MDUtLjU3LS44ODMtLjQ0NHoiLz48L3N2Zz4="

DOCKER_SVG='<svg id="Ebene_1" data-name="Ebene 1" xmlns="http://www.w3.org/2000/svg" width="600" height="600" viewBox="0 0 600 600"><defs><style>.cls-1{fill:#354750;}.cls-2{fill:#48addf;}.cls-3{fill:#56beee;}.cls-4{fill:#388bbd;}.cls-5{fill:#409ccb;}.cls-6{fill:#c2e1e1;}.cls-7{fill:#d7f2f2;}.cls-8{fill:#46b0d7;}.cls-9{fill:#58c8f1;}</style></defs><title>docker</title><g id="image"><path id="background" class="cls-1" d="M344.4,221.7h52.5v53.7h26.5a115.9582,115.9582,0,0,0,36.5-6.1,95.7112,95.7112,0,0,0,17.7-8c-7.4-9.6-11.2-21.9-12.3-33.9-1.5-16.4,1.8-37.7,12.9-50.5l5.5-6.4,6.6,5.3c16.5,13.3,30.5,31.9,32.9,53.1,20-5.9,43.4-4.5,60.9,5.7l7.2,4.1-3.8,7.4c-14.8,29-45.9,38-76.3,36.4C465.8,395.6,366.9,449.2,247,449.2c-62,0-118.8-23.2-151.2-78.2l-0.5-.9-4.7-9.6C79.7,336.3,76,309.8,78.5,283.3l0.8-8h44.8V221.6h52.5V169.3H281.5V116.8h62.9V221.7"/><g id="whale"><path id="body" class="cls-2" d="M514.4,241.6c3.5-27.3-16.9-48.9-29.6-59-14.6,16.9-16.9,61.3,6.1,79.8-12.8,11.4-39.8,21.7-67.4,21.7H87.2c-2.7,28.8,2.4,55.4,14,78.2l3.8,7a137.3464,137.3464,0,0,0,8,11.9h0c13.9,0.9,26.5,1.2,38.2,1h0c22.9-.5,41.6-3.2,55.7-8.2a4.0162,4.0162,0,0,1,2.6,7.6c-1.9.7-3.8,1.3-5.9,1.9h0a183.9651,183.9651,0,0,1-38.5,6.3c0.9,0-1,.1-1,0.1-0.5,0-1.2.1-1.7,0.1-6.1.3-12.7,0.4-19.4,0.4-7.4,0-14.6-.1-22.6-0.6l-0.2.1c28,31.5,71.9,50.3,126.7,50.3,116.2,0,214.8-51.5,258.5-167.1,31,3.1,60.8-4.7,74.2-31.2-21.4-12.3-49.2-8.3-65.2-.3"/><path id="highlight" class="cls-3" d="M514.4,241.6c3.5-27.3-16.9-48.9-29.6-59-14.6,16.9-16.9,61.3,6.1,79.8-12.8,11.4-39.8,21.7-67.4,21.7H107.1c-1.4,44.1,15,77.7,44,97.9h0c22.9-.5,41.6-3.2,55.7-8.2a4.0162,4.0162,0,0,1,2.6,7.6c-1.9.7-3.8,1.3-5.9,1.9h0a194.0616,194.0616,0,0,1-39.6,6.6l-0.4-.4c39.5,20.3,96.9,20.3,162.6-5,73.7-28.3,142.4-82.3,190.2-144a8.6275,8.6275,0,0,1-1.9,1.1"/><path id="underwater" class="cls-4" d="M87.8,319.2a135.3708,135.3708,0,0,0,13.3,43.1l3.8,7a137.3463,137.3463,0,0,0,8,11.9c13.9,0.9,26.5,1.2,38.2,1,22.9-.5,41.6-3.2,55.7-8.2a4.0162,4.0162,0,0,1,2.6,7.6c-1.9.7-3.8,1.3-5.9,1.9h0a187.2977,187.2977,0,0,1-39.5,6.4,13.4012,13.4012,0,0,0-2,.1c-6.1.3-12.6,0.6-19.3,0.6-7.4,0-14.8-.1-22.9-0.6,28,31.5,72.1,50.4,127,50.4,99.5,0,186-37.8,236.4-121.2H87.8"/><path id="underwater-highlight" class="cls-5" d="M110.1,319.2c6,27.1,20.3,48.4,41,62.9,22.9-.5,41.6-3.2,55.7-8.2a4.0162,4.0162,0,0,1,2.6,7.6c-1.9.7-3.8,1.3-5.9,1.9h0a190.3854,190.3854,0,0,1-39.8,6.4c39.5,20.3,96.7,20,162.5-5.3,39.8-15.2,78.1-38,112.4-65.5H110.1"/><path id="beard" class="cls-6" d="M261.2,440.1c-31.1-14.7-48.1-34.8-57.6-56.6-11.5,3.3-25.4,5.4-41.5,6.3-6.1.3-12.5,0.5-19.2,0.5-7.8,0-15.8-.2-24.4-0.7C147,418.1,182,440,246.9,440.4c4.9,0,9.6-.1,14.3-0.3"/><path id="beard-highlight" class="cls-7" d="M215.2,403.6a104.8035,104.8035,0,0,1-11.5-20.2c-11.5,3.3-25.5,5.4-41.6,6.3,11,6.1,27,11.7,53.1,13.9"/><g id="eye"><path id="white" class="cls-7" d="M227.9,349.8a12.6,12.6,0,1,1-12.6,12.6,12.6112,12.6112,0,0,1,12.6-12.6"/><path id="pupil" class="cls-1" d="M227.9,353.3a7.9434,7.9434,0,0,1,3.2.6,3.7555,3.7555,0,0,0-1.9,3.1,3.5841,3.5841,0,0,0,3.6,3.6,3.661,3.661,0,0,0,3.2-1.9,10.3228,10.3228,0,0,1,.7,3.4,8.9,8.9,0,1,1-17.8,0,9.0532,9.0532,0,0,1,9-8.8"/></g></g><path id="water" class="cls-1" d="M6,323.7H589.6c-12.7-3.2-40.2-7.6-35.7-24.2-23.1,26.7-78.9,18.8-92.9,5.6-15.6,22.7-106.9,14.1-113.2-3.6-19.7,23-80.4,23-100.1,0-6.4,17.7-97.5,26.3-113.2,3.6-14.1,13.2-69.8,21.1-92.9-5.6,4.6,16.6-22.9,21.1-35.6,24.2"/><g id="containers"><polygon class="cls-8" points="132.8 230.5 178.3 230.5 178.3 276 132.8 276 132.8 230.5"/><rect class="cls-8" x="185.2" y="178.1" width="45.5" height="45.5"/><rect class="cls-9" x="185.2" y="230.5" width="45.5" height="45.5"/><rect class="cls-8" x="237.7" y="230.5" width="45.5" height="45.5"/><rect class="cls-9" x="237.7" y="178.1" width="45.5" height="45.5"/><rect class="cls-9" x="290.2" y="230.5" width="45.5" height="45.5"/><rect class="cls-8" x="290.2" y="178.1" width="45.5" height="45.5"/><rect class="cls-9" x="290.2" y="125.6" width="45.5" height="45.5"/><rect class="cls-8" x="342.7" y="230.5" width="45.5" height="45.5"/><g id="grid1"><polygon class="cls-1" points="346.5 234.3 350.1 234.3 350.1 272.2 346.5 272.2 346.5 234.3"/><polygon class="cls-1" points="353.3 234.3 357 234.3 357 272.2 353.3 272.2 353.3 234.3"/><polygon class="cls-1" points="360.1 234.3 363.9 234.3 363.9 272.2 360.1 272.2 360.1 234.3"/><polygon class="cls-1" points="367 234.3 370.8 234.3 370.8 272.2 367 272.2 367 234.3"/><polygon class="cls-1" points="373.9 234.3 377.7 234.3 377.7 272.2 373.9 272.2 373.9 234.3"/><polyline class="cls-1" points="380.8 234.3 384.4 234.3 384.4 272.2 380.8 272.2 380.8 234.3"/></g><g id="grid2"><rect class="cls-1" x="294" y="129.3" width="3.5" height="37.9"/><rect class="cls-1" x="300.8" y="129.3" width="3.7" height="37.9"/><rect class="cls-1" x="307.6" y="129.3" width="3.7" height="37.9"/><rect class="cls-1" x="314.5" y="129.3" width="3.7" height="37.9"/><rect class="cls-1" x="321.4" y="129.3" width="3.7" height="37.9"/><polyline class="cls-1" points="328.3 129.3 331.9 129.3 331.9 167.3 328.3 167.3 328.3 129.3"/></g><g id="grid3"><rect class="cls-1" x="294" y="181.8" width="3.5" height="37.9"/><rect class="cls-1" x="300.8" y="181.8" width="3.7" height="37.9"/><rect class="cls-1" x="307.6" y="181.8" width="3.7" height="37.9"/><rect class="cls-1" x="314.5" y="181.8" width="3.7" height="37.9"/><rect class="cls-1" x="321.4" y="181.8" width="3.7" height="37.9"/><polyline class="cls-1" points="328.3 181.8 331.9 181.8 331.9 219.8 328.3 219.8 328.3 181.8"/></g><g id="grid4"><polygon class="cls-1" points="294 234.3 297.6 234.3 297.6 272.2 294 272.2 294 234.3"/><polygon class="cls-1" points="300.8 234.3 304.5 234.3 304.5 272.2 300.8 272.2 300.8 234.3"/><polygon class="cls-1" points="307.6 234.3 311.4 234.3 311.4 272.2 307.6 272.2 307.6 234.3"/><polygon class="cls-1" points="314.5 234.3 318.3 234.3 318.3 272.2 314.5 272.2 314.5 234.3"/><polygon class="cls-1" points="321.4 234.3 325.1 234.3 325.1 272.2 321.4 272.2 321.4 234.3"/><polyline class="cls-1" points="328.3 234.3 331.9 234.3 331.9 272.2 328.3 272.2 328.3 234.3"/></g><g id="grid5"><rect class="cls-1" x="241.6" y="181.8" width="3.5" height="37.9"/><rect class="cls-1" x="248.3" y="181.8" width="3.7" height="37.9"/><rect class="cls-1" x="255.1" y="181.8" width="3.7" height="37.9"/><rect class="cls-1" x="262" y="181.8" width="3.7" height="37.9"/><rect class="cls-1" x="269" y="181.8" width="3.7" height="37.9"/><polyline class="cls-1" points="275.9 181.8 279.4 181.8 279.4 219.8 275.9 219.8 275.9 181.8"/></g><g id="grid6"><polygon class="cls-1" points="241.6 234.3 245.1 234.3 245.1 272.2 241.6 272.2 241.6 234.3"/><polygon class="cls-1" points="248.3 234.3 252 234.3 252 272.2 248.3 272.2 248.3 234.3"/><polygon class="cls-1" points="255.1 234.3 258.9 234.3 258.9 272.2 255.1 272.2 255.1 234.3"/><polygon class="cls-1" points="262 234.3 265.8 234.3 265.8 272.2 262 272.2 262 234.3"/><polygon class="cls-1" points="269 234.3 272.7 234.3 272.7 272.2 269 272.2 269 234.3"/><polyline class="cls-1" points="275.9 234.3 279.4 234.3 279.4 272.2 275.9 272.2 275.9 234.3"/></g><g id="grid7"><polygon class="cls-1" points="189.1 234.3 192.6 234.3 192.6 272.2 189.1 272.2 189.1 234.3"/><polygon class="cls-1" points="195.9 234.3 199.6 234.3 199.6 272.2 195.9 272.2 195.9 234.3"/><polygon class="cls-1" points="202.7 234.3 206.5 234.3 206.5 272.2 202.7 272.2 202.7 234.3"/><polygon class="cls-1" points="209.6 234.3 213.4 234.3 213.4 272.2 209.6 272.2 209.6 234.3"/><polygon class="cls-1" points="216.5 234.3 220.2 234.3 220.2 272.2 216.5 272.2 216.5 234.3"/><polyline class="cls-1" points="223.4 234.3 226.9 234.3 226.9 272.2 223.4 272.2 223.4 234.3"/></g><g id="grid8"><rect class="cls-1" x="189.1" y="181.8" width="3.5" height="37.9"/><rect class="cls-1" x="195.9" y="181.8" width="3.7" height="37.9"/><rect class="cls-1" x="202.7" y="181.8" width="3.7" height="37.9"/><rect class="cls-1" x="209.6" y="181.8" width="3.7" height="37.9"/><rect class="cls-1" x="216.5" y="181.8" width="3.7" height="37.9"/><polyline class="cls-1" points="223.4 181.8 226.9 181.8 226.9 219.8 223.4 219.8 223.4 181.8"/></g><g id="grid9"><polygon class="cls-1" points="136.6 234.3 140.2 234.3 140.2 272.2 136.6 272.2 136.6 234.3"/><polygon class="cls-1" points="143.4 234.3 147.1 234.3 147.1 272.2 143.4 272.2 143.4 234.3"/><polygon class="cls-1" points="150.2 234.3 154 234.3 154 272.2 150.2 272.2 150.2 234.3"/><polygon class="cls-1" points="157.1 234.3 160.9 234.3 160.9 272.2 157.1 272.2 157.1 234.3"/><polygon class="cls-1" points="164 234.3 167.7 234.3 167.7 272.2 164 272.2 164 234.3"/><polyline class="cls-1" points="170.9 234.3 174.5 234.3 174.5 272.2 170.9 272.2 170.9 234.3"/></g></g></g></svg>'

_xls() {
    [ -z "$1" ] && set -- *

    LS_OPTS=""

    COLS=4
    { echo "<table>"; 
      let COL=-1
      for file in "$@"; do
        case $file in
          -*) LS_OPTS="$LS_OPTS $file";;
          *)
            let COL=$(((COL+1) % COLS))
            [ $COL -eq 0 ] && echo "<tr>"
            echo "<td>"
            display_file "$file"
            echo "</td>"
            [ $COL -eq $((COLS - 1)) ] && echo "</tr>"
            ;;
         esac
      done 
      [ $COL -ne $((COLS - 1)) ] && echo "</tr>"
      #[ $COL -ne 0 ] && echo "</tr>"
      echo "</table>"
   }
}

xls() {
    _xls | html
}

sanitize_text() {
    sed -e 's/</&lt;/g' -e 's/>/&gt;/g'
}

display_file() {
    file="$1"; shift

    echo "<a href='$file'> <b><u>"; ls -d $LS_OPTS "$file"; echo "</u></b> </a><br/>"

    if [ -d $file ];then
        echo "<img width=50 alt='No Image' src='$FOLDER_ICON_BASE64' />"
        return;
    fi

    EXT=${file##*.}

    case "${EXT,,}" in # lowercase
        png|jpg|jpeg|gif|tiff|svg)
            TMP_TABLE_DIR=tmp/xls.tables
            [ ! -d $TMP_TABLE_DIR ] && mkdir -p $TMP_TABLE_DIR
            TMP_TABLE_FILE=$(mktemp ${TMP_TABLE_DIR}/TMP_TABLE.XXXXXX).$EXT

            cp $file $TMP_TABLE_FILE;
            echo "<img width=100 src='$TMP_TABLE_FILE' />"
            ;;
        ipynb)
            echo "<img width=100 alt='No Image' src='data:image/svg+xml;utf8,$JUPYTER_SVG' />"
            ;;
        js|py|pl|rb|md|txt|yaml|json) head -10 $file | sanitize_text;;
        csv) head -10 $file | csv2html;;
        htm|html)
            TMP_TABLE_DIR=tmp/xls.tables
            [ ! -d $TMP_TABLE_DIR ] && mkdir -p $TMP_TABLE_DIR
            TMP_TABLE_FILE=$(mktemp ${TMP_TABLE_DIR}/TMP_TABLE.XXXXXX).$EXT

            cp $file $TMP_TABLE_FILE;
            echo "<iframe src='$TMP_TABLE_FILE' />";;
        *)
            case "$file" in
              Dockerfile)
                echo "<img width=100 alt='No Image' src='data:image/svg+xml;utf8,$DOCKER_SVG' />"
                ;;
              *)
                echo "<img width=50 alt='No Image' src='$QN_MARK_BASE64' />"
                ;;
            esac
            ;;
    esac
}


#
# Function: csv2html
# Usage: csv2html
csv2html() {
  echo "Invoked ${FUNCNAME[0]} $*" >&2

  PYSCRIPT=${ROOT_PATH_PREFIX}$TMPDIR/${FUNCNAME[0]}.py

  cat <<EOF > $PYSCRIPT
import sys
import csv
import io

header=False
delimiter=None
verbosity=0

a=1
while len(sys.argv) > a:
    arg=sys.argv[a]
    a += 1
    if arg == "-v":
        verbosity += 1
    if arg == "-h":
        header=True
    if arg == "-d":
        delimiter=sys.argv[a]
        a += 1
    
def stderr(*args, **kwargs):
    print(*args, file=sys.stderr, **kwargs)
    
def tohex(str):
    return ":".join("{:02x}".format(ord(c)) for c in str)

def compressMultipleSpaces(text):

    for line in text:
        # Compress multiple spaces
        templine=''
        lastchar=''
        for char in line:
            if char == ' ' and lastchar == ' ':
                pass
            templine += char
            lastchar=char
        line=templine
        
        text += line

    return text
    
text=' '.join(sys.stdin.readlines())

if delimiter == 'TAB':
    delimiter=chr(9)

if delimiter == 'SPACES':
    delimiter=' '
    text = compressMultipleSpaces(text)

if delimiter:
    csvreader = csv.reader(text.splitlines(), delimiter=delimiter, quotechar='|')
else:
    sample_len = 100
    if len(text) < 100:
        sample_len = len(text)
    
    dialect = csv.Sniffer().sniff(text[:sample_len])
    if verbosity > 1:
        stderr("DELIMITER=<" + tohex(dialect.delimiter) + ">")
    csvreader = csv.reader(text.splitlines(), dialect=dialect, quotechar='|')

print('<table>')

for row in csvreader:
    #print("COLS=" + str(len(row)))
    #print("ROW=<" + str(row) + ">")
    #continue
    if header:
        print('<tr><th>')
        print('</th><th>'.join(row))
        print('</th></tr>')
        header=False
    else:
        print('<tr><td>')
        print('</td><td>'.join(row))
        print('</td></tr>')
        
print('</table>')

EOF

  python $PYSCRIPT $* |& tee $TMPDIR/${FUNCNAME[0]}.html
}

list2html() {
    { echo "+------+";
      sed -e 's/^/\| /' -e 's/$/ \|/'
      echo "+------+"; } | html_table
}


